{"ast":null,"code":"// soundassets\nvar soundListIds = [\"bgm\", \"bigwheel\", \"button_bet\", \"button_cancel\", \"button_confirm\", \"button_rebet\", \"button_slip\", \"result\", \"swish\", \"ui_function\", \"ui_popup\", \"win\", \"zoomin\", \"zoomout\", \"spin_left\", \"spin_right\", \"spin_end\"];\nlet soundList = [];\nexport function setMuteSound_bgm(value) {\n  muteAll_bgm(value);\n}\nexport function setMuteSound_effect(value) {\n  muteAll_effect(value);\n}\nfunction initSoundList() {\n  soundList = [];\n  var name = null;\n  var len = soundListIds.length;\n  for (var i = 0; i < len; i++) {\n    name = soundListIds[i];\n    soundList.push({\n      id: name,\n      sound: new Audio(\"sound/\" + name + \".mp3\")\n    });\n  }\n}\nfunction getSound(filename) {\n  var len = soundList.length;\n  var data = null;\n  var sound = null;\n  for (var i = 0; i < len; i++) {\n    data = soundList[i];\n    if (filename == data.id && data.sound) {\n      sound = data.sound;\n      break;\n    }\n  }\n  return sound;\n}\nfunction stopSound(filename) {\n  var sound = getSound(filename);\n  if (sound == null) return;\n  sound.pause();\n  sound.currentTime = 0;\n}\nexport function playSound(filename, value, time) {\n  var sound = getSound(filename);\n  if (sound == null) return;\n  sound.loop = value;\n  if (time >= 0) sound.currentTime = time;\n  sound.play().then().catch(function (e) {});\n}\nfunction muteAll_bgm(value) {\n  soundList[0].sound.muted = value;\n}\nfunction muteAll_effect(value) {\n  var len = soundList.length;\n  for (var i = 1; i < len; i++) {\n    soundList[i].sound.muted = value;\n  }\n}\ninitSoundList();","map":{"version":3,"names":["soundListIds","soundList","setMuteSound_bgm","value","muteAll_bgm","setMuteSound_effect","muteAll_effect","initSoundList","name","len","length","i","push","id","sound","Audio","getSound","filename","data","stopSound","pause","currentTime","playSound","time","loop","play","then","catch","e","muted"],"sources":["C:/git/minigame/powerball/src/compenents/sound/sound.js"],"sourcesContent":["// soundassets\r\nvar soundListIds = [\r\n    \"bgm\",\r\n    \"bigwheel\",\r\n    \"button_bet\",\r\n    \"button_cancel\",\r\n    \"button_confirm\",\r\n    \"button_rebet\",\r\n    \"button_slip\",\r\n    \"result\",\r\n    \"swish\",\r\n    \"ui_function\",\r\n    \"ui_popup\",\r\n    \"win\",\r\n    \"zoomin\",\r\n    \"zoomout\",\r\n    \"spin_left\",\r\n    \"spin_right\",\r\n    \"spin_end\"\r\n];\r\nlet soundList = [];\r\n\r\nexport function setMuteSound_bgm(value) \r\n{\r\n    muteAll_bgm(value);\r\n}\r\n\r\nexport function setMuteSound_effect(value) \r\n{\r\n    muteAll_effect(value);\r\n}\r\n\r\n\r\nfunction initSoundList() \r\n{\r\n    soundList = [];\r\n    var name = null;\r\n    var len = soundListIds.length;\r\n    for ( var i = 0 ; i < len ; i++ ) \r\n    {\r\n        name = soundListIds[i];\r\n        soundList.push({\r\n            id: name,\r\n            sound: new Audio(\"sound/\" + name + \".mp3\")\r\n        });\r\n    }\r\n}\r\n\r\nfunction getSound(filename) \r\n{\r\n    var len = soundList.length;\r\n    var data = null;\r\n    var sound = null;\r\n    for( var i = 0; i < len ; i++ ) \r\n    {\r\n        data = soundList[i];\r\n        if ( filename == data.id && data.sound ) \r\n        {\r\n            sound = data.sound;\r\n            break;\r\n        }\r\n    }\r\n    return sound;\r\n}\r\n\r\nfunction stopSound(filename) \r\n{\r\n    var sound = getSound(filename);\r\n    if ( sound == null )\r\n        return;\r\n\r\n    sound.pause();\r\n    sound.currentTime = 0;\r\n}\r\n\r\nexport function playSound(filename, value, time) \r\n{\r\n    var sound = getSound(filename);\r\n\r\n    if ( sound == null ) \r\n        return;\r\n\r\n    sound.loop = value;\r\n    if ( time >= 0 )\r\n        sound.currentTime = time;\r\n    \r\n    sound.play().then(\r\n    ).catch(function(e) { \r\n    });\r\n}\r\n\r\nfunction muteAll_bgm(value) \r\n{\r\n    soundList[0].sound.muted = value;\r\n}\r\n\r\nfunction muteAll_effect(value) \r\n{\r\n    var len = soundList.length;\r\n    for ( var i = 1; i < len ; i++ ) \r\n    {\r\n        soundList[i].sound.muted = value;\r\n    }\r\n}\r\ninitSoundList();"],"mappings":"AAAA;AACA,IAAIA,YAAY,GAAG,CACf,KAAK,EACL,UAAU,EACV,YAAY,EACZ,eAAe,EACf,gBAAgB,EAChB,cAAc,EACd,aAAa,EACb,QAAQ,EACR,OAAO,EACP,aAAa,EACb,UAAU,EACV,KAAK,EACL,QAAQ,EACR,SAAS,EACT,WAAW,EACX,YAAY,EACZ,UAAU,CACb;AACD,IAAIC,SAAS,GAAG,EAAE;AAElB,OAAO,SAASC,gBAAgBA,CAACC,KAAK,EACtC;EACIC,WAAW,CAACD,KAAK,CAAC;AACtB;AAEA,OAAO,SAASE,mBAAmBA,CAACF,KAAK,EACzC;EACIG,cAAc,CAACH,KAAK,CAAC;AACzB;AAGA,SAASI,aAAaA,CAAA,EACtB;EACIN,SAAS,GAAG,EAAE;EACd,IAAIO,IAAI,GAAG,IAAI;EACf,IAAIC,GAAG,GAAGT,YAAY,CAACU,MAAM;EAC7B,KAAM,IAAIC,CAAC,GAAG,CAAC,EAAGA,CAAC,GAAGF,GAAG,EAAGE,CAAC,EAAE,EAC/B;IACIH,IAAI,GAAGR,YAAY,CAACW,CAAC,CAAC;IACtBV,SAAS,CAACW,IAAI,CAAC;MACXC,EAAE,EAAEL,IAAI;MACRM,KAAK,EAAE,IAAIC,KAAK,CAAC,QAAQ,GAAGP,IAAI,GAAG,MAAM;IAC7C,CAAC,CAAC;EACN;AACJ;AAEA,SAASQ,QAAQA,CAACC,QAAQ,EAC1B;EACI,IAAIR,GAAG,GAAGR,SAAS,CAACS,MAAM;EAC1B,IAAIQ,IAAI,GAAG,IAAI;EACf,IAAIJ,KAAK,GAAG,IAAI;EAChB,KAAK,IAAIH,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,GAAG,EAAGE,CAAC,EAAE,EAC7B;IACIO,IAAI,GAAGjB,SAAS,CAACU,CAAC,CAAC;IACnB,IAAKM,QAAQ,IAAIC,IAAI,CAACL,EAAE,IAAIK,IAAI,CAACJ,KAAK,EACtC;MACIA,KAAK,GAAGI,IAAI,CAACJ,KAAK;MAClB;IACJ;EACJ;EACA,OAAOA,KAAK;AAChB;AAEA,SAASK,SAASA,CAACF,QAAQ,EAC3B;EACI,IAAIH,KAAK,GAAGE,QAAQ,CAACC,QAAQ,CAAC;EAC9B,IAAKH,KAAK,IAAI,IAAI,EACd;EAEJA,KAAK,CAACM,KAAK,CAAC,CAAC;EACbN,KAAK,CAACO,WAAW,GAAG,CAAC;AACzB;AAEA,OAAO,SAASC,SAASA,CAACL,QAAQ,EAAEd,KAAK,EAAEoB,IAAI,EAC/C;EACI,IAAIT,KAAK,GAAGE,QAAQ,CAACC,QAAQ,CAAC;EAE9B,IAAKH,KAAK,IAAI,IAAI,EACd;EAEJA,KAAK,CAACU,IAAI,GAAGrB,KAAK;EAClB,IAAKoB,IAAI,IAAI,CAAC,EACVT,KAAK,CAACO,WAAW,GAAGE,IAAI;EAE5BT,KAAK,CAACW,IAAI,CAAC,CAAC,CAACC,IAAI,CACjB,CAAC,CAACC,KAAK,CAAC,UAASC,CAAC,EAAE,CACpB,CAAC,CAAC;AACN;AAEA,SAASxB,WAAWA,CAACD,KAAK,EAC1B;EACIF,SAAS,CAAC,CAAC,CAAC,CAACa,KAAK,CAACe,KAAK,GAAG1B,KAAK;AACpC;AAEA,SAASG,cAAcA,CAACH,KAAK,EAC7B;EACI,IAAIM,GAAG,GAAGR,SAAS,CAACS,MAAM;EAC1B,KAAM,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,GAAG,EAAGE,CAAC,EAAE,EAC9B;IACIV,SAAS,CAACU,CAAC,CAAC,CAACG,KAAK,CAACe,KAAK,GAAG1B,KAAK;EACpC;AACJ;AACAI,aAAa,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}