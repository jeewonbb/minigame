{"ast":null,"code":"var _jsxFileName = \"C:\\\\git\\\\minigame\\\\powerball\\\\src\\\\powerball_dh\\\\history\\\\History.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport HistoryList from \"./HistoryList\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nlet historylist = [];\nfunction History(props) {\n  _s();\n  const [data, setData] = useState([]);\n  useEffect(() => {\n    api();\n  }, [props]);\n  const api = async () => {\n    let historylist = [];\n    await axios.post(\"https://pl.pz.team/minigame/data/credit.php\", new URLSearchParams({\n      category: \"history\",\n      token: \"GEdR9jerB1iReqIkgl%2bxeOzYGfoKymrwLLOe7%2fzMvCbENOcqNa%2brlf3cUKu64Bt1maCx8%2f2Yr5Y%2feU9EpaKnmzHH%2bYwQuxH9\",\n      pageno: 1,\n      pagesize: 100\n    })).then(function (response) {\n      console.log(\"히스토리 정보\", response.data);\n      let prev_round = \"\";\n      for (let i = 0; i < response.data.data.list.length; i++) {\n        if (prev_round != response.data.data.list[i].roundinfo.roundid) {\n          historylist.push({\n            roundid: response.data.data.list[i].roundinfo.roundid,\n            roundno: response.data.data.list[i].roundinfo.roundno,\n            registerdate: response.data.data.list[i].betinfo.registerdate,\n            result: response.data.data.list[i].gameinfo.extrainfo,\n            betamount: response.data.data.list[i].betinfo.betamount,\n            winamount: response.data.data.list[i].betinfo.winamount,\n            list: [response.data.data.list[i].betinfo]\n          });\n        } else {\n          historylist[historylist.length - 1].list.push(response.data.data.list[i].betinfo);\n          historylist[historylist.length - 1].betamount = historylist[historylist.length - 1].betamount + response.data.data.list[i].betinfo.betamount;\n          historylist[historylist.length - 1].winamount = historylist[historylist.length - 1].winamount + response.data.data.list[i].betinfo.winamount;\n        }\n        prev_round = response.data.data.list[i].roundinfo.roundid;\n      }\n    }).catch(function (error) {\n      // 오류발생시 실행\n      console.log(\"실패\", error);\n    }).then(function () {});\n  };\n  const refresh = () => {\n    api();\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: refresh,\n      children: \"Refresh\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), historylist.map((array, index) => /*#__PURE__*/_jsxDEV(HistoryList, {\n      roundid: array.roundid,\n      roundno: array.roundno,\n      date: array.registerdate,\n      result: array.result,\n      bet: array.list,\n      betamount: array.betamount,\n      winamount: array.winamount\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true);\n}\n_s(History, \"IEMTtLVFIuToo7X/raQbJAxzNQU=\");\n_c = History;\nexport default History;\nvar _c;\n$RefreshReg$(_c, \"History\");","map":{"version":3,"names":["React","useState","useEffect","axios","HistoryList","jsxDEV","_jsxDEV","Fragment","_Fragment","historylist","History","props","_s","data","setData","api","post","URLSearchParams","category","token","pageno","pagesize","then","response","console","log","prev_round","i","list","length","roundinfo","roundid","push","roundno","registerdate","betinfo","result","gameinfo","extrainfo","betamount","winamount","catch","error","refresh","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","map","array","index","date","bet","_c","$RefreshReg$"],"sources":["C:/git/minigame/powerball/src/powerball_dh/history/History.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport HistoryList from \"./HistoryList\";\r\n\r\nlet historylist = [];\r\n\r\nfunction History(props) {\r\n  const [data, setData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    api();\r\n  }, [props]);\r\n\r\n  const api = async () => {\r\n    let historylist = [];\r\n    await axios\r\n      .post(\r\n        \"https://pl.pz.team/minigame/data/credit.php\",\r\n        new URLSearchParams({\r\n          category: \"history\",\r\n          token:\r\n            \"GEdR9jerB1iReqIkgl%2bxeOzYGfoKymrwLLOe7%2fzMvCbENOcqNa%2brlf3cUKu64Bt1maCx8%2f2Yr5Y%2feU9EpaKnmzHH%2bYwQuxH9\",\r\n          pageno: 1,\r\n          pagesize: 100,\r\n        })\r\n      )\r\n      .then(function (response) {\r\n        console.log(\"히스토리 정보\", response.data);\r\n\r\n        let prev_round = \"\";\r\n\r\n        for (let i = 0; i < response.data.data.list.length; i++) {\r\n          if (prev_round != response.data.data.list[i].roundinfo.roundid) {\r\n            historylist.push({\r\n              roundid: response.data.data.list[i].roundinfo.roundid,\r\n              roundno: response.data.data.list[i].roundinfo.roundno,\r\n              registerdate: response.data.data.list[i].betinfo.registerdate,\r\n              result: response.data.data.list[i].gameinfo.extrainfo,\r\n              betamount: response.data.data.list[i].betinfo.betamount,\r\n              winamount: response.data.data.list[i].betinfo.winamount,\r\n              list: [response.data.data.list[i].betinfo],\r\n            });\r\n          } else {\r\n            historylist[historylist.length - 1].list.push(\r\n              response.data.data.list[i].betinfo\r\n            );\r\n            historylist[historylist.length - 1].betamount =\r\n              historylist[historylist.length - 1].betamount +\r\n              response.data.data.list[i].betinfo.betamount;\r\n            historylist[historylist.length - 1].winamount =\r\n              historylist[historylist.length - 1].winamount +\r\n              response.data.data.list[i].betinfo.winamount;\r\n          }\r\n          prev_round = response.data.data.list[i].roundinfo.roundid;\r\n        }\r\n      })\r\n      .catch(function (error) {\r\n        // 오류발생시 실행\r\n        console.log(\"실패\", error);\r\n      })\r\n      .then(function () {});\r\n  };\r\n\r\n  const refresh = () => {\r\n    api();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <button onClick={refresh}>Refresh</button>\r\n      <br />\r\n      {historylist.map((array, index) => (\r\n        <HistoryList\r\n          key={index}\r\n          roundid={array.roundid}\r\n          roundno={array.roundno}\r\n          date={array.registerdate}\r\n          result={array.result}\r\n          bet={array.list}\r\n          betamount={array.betamount}\r\n          winamount={array.winamount}\r\n        />\r\n      ))}\r\n    </>\r\n  );\r\n}\r\nexport default History;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}